---
title: Even Fibonacci numbers
index: 2
tags:
  https://img.shields.io/badge/Euler-2-brightgreen.svg?style=for-the-badge: https://projecteuler.net/problem=2
  https://img.shields.io/badge/Languages-3-blueviolet.svg?style=for-the-badge:
downloads:
  Overview: https://projecteuler.net/overview=002
---

> Each new term in the Fibonacci sequence is generated by adding the previous
> two terms. By starting with $1$ and $2$, the first 10 terms will be:
> $$
> 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, \ldots
> $$
> By considering the terms in the Fibonacci sequence whose values do not exceed
> four million, find the sum of the even-valued terms.

### Solution

A direct method would be to calculate every Fibonacci number, and if it is
even, then we add it to a running sum, only if it is even.

This can be improved upon. It becomes clear that every third Fibonacci number
will be even. This means that we can skip all the odd numbers, so that only
every third number is added.

The pseudocode of the final solution is
```
limit=4000000
sum=0
a=1
b=1
c=2
while c < limit
  sum=sum+c
  a=b+c
  b=c+a
  c=a+b
Output sum
```

### Code

%%%

Ada
```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;
with Ada.Command_Line; use Ada.Command_Line;

procedure P2 is
  limit: Integer := 4000000;
  sum: Integer := 0;
  a: Integer := 1;
  b: Integer := 1;
  c: Integer := 2;
begin
  if Argument_Count >= 1 then
    limit := Integer'Value(Argument(1));
  end if;
  while c < limit loop
    sum := sum + c;
    a := b + c; 
    b := c + a;
    c := a + b;
  end loop;
  Put_Line(Integer'Image(sum));
end P2;
```

Cpp
```cpp
#include <cstdlib>
#include <iostream>

int main(int argc, char *argv[]) {
  int limit = 4000000;
  int sum = 0;
  int b = 1;
  int c = 2;
  if (argc > 1) {
    limit = atoi(argv[1]);
  }
  while (c < limit) {
    sum += c;
    int a = b + c;
    b = c + a;
    c = a + b;
  }
  std::cout << sum << std::endl;
}
```

Fortran
```fortran
program p2
  integer :: limit = 4000000
  integer :: sum = 0
  integer :: a = 1
  integer :: b = 1
  integer :: c = 2
  character(len=32) :: arg
  if (command_argument_count() .gt. 1) then
    call get_command_argument(1, arg)
    read (arg, *) limit
  end if
  do while (c .lt. limit)
    sum = sum + c
    a = b + c
    b = c + a
    c = a + b
  enddo
  print *, sum
end program p2
```

%%%
