<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Multiples of 3 and 5 - Projects - Arden Rasmussen</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script src="https://kit.fontawesome.com/12011c1667.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="/js/main.js"></script>
  </head>
  <body>
    <header>
      <nav class="nav-extended blue">
        <div class="nav-wrapper blue">
          <a href="/" class="brand-logo center">Arden Rasmussen</a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="http://git.ardenrasmussen.com"><i class="fab fa-github"></i></a></li>
          </ul>
        </div>
        <div class="nav-content blue lighten-1">
          <ul class="mtabs mtabs-transparent">
                <li class="mtab"><a href="/projects/" class="active">Projects</a></li>
          </ul>
        </div>
      </nav>
    </header>
    <main id="content" class="container" style="padding-bottom:25px"><h1 class="header blue-text">Multiples of 3 and 5</h1>
<div>
      <a href=https://projecteuler.net/problem=1><img alt="https://img.shields.io/badge/Euler-1-brightgreen.svg?style=for-the-badge" src="https://img.shields.io/badge/Euler-1-brightgreen.svg?style=for-the-badge"></a>
      <img alt="https://img.shields.io/badge/Languages-3-blueviolet.svg?style=for-the-badge" src="https://img.shields.io/badge/Languages-3-blueviolet.svg?style=for-the-badge">
</div>
<hr/>
<blockquote>
<p class="flow-text">If we list all the natural numbers below <span><span class="MathJax_Preview">10</span><script type="math/tex">10</script></span> that are multiples of <span><span class="MathJax_Preview">3</span><script type="math/tex">3</script></span> or
<span><span class="MathJax_Preview">5</span><script type="math/tex">5</script></span>, we get <span><span class="MathJax_Preview">3</span><script type="math/tex">3</script></span>, <span><span class="MathJax_Preview">5</span><script type="math/tex">5</script></span>, <span><span class="MathJax_Preview">6</span><script type="math/tex">6</script></span> and <span><span class="MathJax_Preview">9</span><script type="math/tex">9</script></span>. The sum of these multiples is <span><span class="MathJax_Preview">23</span><script type="math/tex">23</script></span>.  Find
the sum of all the multiples of <span><span class="MathJax_Preview">3</span><script type="math/tex">3</script></span> or <span><span class="MathJax_Preview">5</span><script type="math/tex">5</script></span> below <span><span class="MathJax_Preview">1000</span><script type="math/tex">1000</script></span>.</p>
</blockquote>
<h3>Solution</h3>
<p class="flow-text">A simple way to do this is to go through all numbers from 1 to 999 and test
whether they are divisible by 3 or by 5. But if we want to do the same for
numbers less than 1,000,000,000 that is going to take a long time.</p>
<p class="flow-text">To get a more efficient solution you could also calculate the sum of the
numbers that are divisible by 3, plus the sum of numbers divisible by 5. BUt as
you summed numbers divisible by 15 twise you would have to subtract the sum of
the numbers divisible by 15.</p>
<p class="flow-text">Lets write out some of the terms for <span><span class="MathJax_Preview">n=3</span><script type="math/tex">n=3</script></span>.
$$
3+6+9+12+\cdots+999=3(1+2+3+4+\cdots+333)
$$</p>
<p class="flow-text">We also not that <span><span class="MathJax_Preview">1+2+3+\cdots+p=\frac{1}{2}p(p+1)</span><script type="math/tex">1+2+3+\cdots+p=\frac{1}{2}p(p+1)</script></span>. Using these two facts, we
are able to calculates the sum of numbers divisible by <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> less than <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> like
so:</p>
<div>
<div class="MathJax_Preview">
p = t / n\\
sum = n(p(p+1)) / 2
</div>
<script type="math/tex; mode=display">
p = t / n\\
sum = n(p(p+1)) / 2
</script>
</div>
<p class="flow-text">Then the final solution will have the pseudocode of
<div class="highlight"><pre><span></span>target=999

Function SumDivisibleBy(n)
  p=target / n
  return n*(p*(p+1)) / 2
EndFunction

Output SumDivisibleBy(3)+SumDivisibleBy(5)-SumDivisibleBy(15)
</pre></div></p>
<h3>Code</h3>
<p class="flow-text"><div class="row"><div class="col s12"><ul class="tabs"><li class="tab"><a href="#ada" class="blue-text">Ada</a></li>
<li class="tab"><a href="#cpp" class="blue-text">Cpp</a></li>
<li class="tab"><a href="#fortran" class="blue-text">Fortran</a></li></ul></div><div id="ada" class="col s12 "><div class="highlight"><pre><span></span><span class="kn">with</span> <span class="nn">Ada.Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Text_IO</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Integer_Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Integer_Text_IO</span><span class="p">;</span>
<span class="kn">with</span> <span class="nn">Ada.Command_Line</span><span class="p">;</span> <span class="kn">use</span> <span class="nn">Ada.Command_Line</span><span class="p">;</span>

<span class="kd">procedure</span> <span class="nf">P1</span> <span class="kr">is</span>
  <span class="kd">function</span> <span class="nf">SumDivisible</span> <span class="p">(</span> <span class="nv">n</span><span class="p">:I</span><span class="nv">nteger</span><span class="p">;</span> <span class="nv">max</span><span class="p">:I</span><span class="nv">nteger</span> <span class="p">)</span> <span class="kr">return</span> <span class="kt">Integer</span> <span class="kr">is</span>
    <span class="n">p</span><span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">max</span> <span class="o">/</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">ret</span><span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kr">begin</span>
    <span class="kr">return</span> <span class="n">ret</span><span class="p">;</span>
  <span class="kr">end</span> <span class="nf">SumDivisible</span><span class="p">;</span>
  <span class="n">max</span><span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">999</span><span class="p">;</span>
  <span class="n">val</span><span class="p">:</span> <span class="kt">Integer</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kr">begin</span>
  <span class="kr">if</span> <span class="n">Argument_Count</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="kr">then</span>
    <span class="n">max</span> <span class="p">:=</span> <span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Value</span><span class="p">(</span><span class="n">Argument</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kr">end</span> <span class="kr">if</span><span class="p">;</span>
  <span class="n">val</span> <span class="p">:=</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">max</span><span class="p">)</span> <span class="o">+</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">max</span><span class="p">)</span> <span class="o">-</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">max</span><span class="p">);</span>
  <span class="n">Put_Line</span><span class="p">(</span><span class="kt">Integer</span><span class="p">&#39;</span><span class="na">Image</span><span class="p">(</span><span class="n">val</span><span class="p">));</span>
<span class="kr">end</span> <span class="nf">P1</span><span class="p">;</span>
</pre></div></div>
<div id="cpp" class="col s12 "><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;cstdlib&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">SumDivisible</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">max</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="n">max</span> <span class="o">/</span> <span class="n">n</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">999</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">max</span><span class="p">)</span> <span class="o">+</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">max</span><span class="p">)</span> <span class="o">-</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">max</span><span class="p">);</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">sum</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div></div>
<div id="fortran" class="col s12 "><div class="highlight"><pre><span></span><span class="kt">real </span><span class="k">function </span><span class="n">SumDivisible</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>
  <span class="kt">integer</span><span class="p">,</span> <span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span> <span class="kd">::</span> <span class="n">n</span>
  <span class="kt">integer</span><span class="p">,</span> <span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span> <span class="kd">::</span> <span class="nb">max</span>
<span class="nb">  </span><span class="kt">integer</span> <span class="kd">::</span> <span class="n">p</span>
  <span class="n">p</span> <span class="o">=</span> <span class="nb">max</span> <span class="o">/</span> <span class="n">n</span>
  <span class="n">p</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="p">(</span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
  <span class="n">SumDivisible</span> <span class="o">=</span> <span class="n">p</span>
<span class="k">end function </span><span class="n">SumDivisible</span>

<span class="k">program </span><span class="n">p1</span>
  <span class="kt">integer</span> <span class="kd">::</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">999</span>
  <span class="kt">integer</span> <span class="kd">::</span> <span class="nb">sum</span>
<span class="nb">  </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span> <span class="kd">::</span> <span class="n">arg</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">command_argument_count</span><span class="p">()</span> <span class="p">.</span><span class="n">ge</span><span class="p">.</span> <span class="mi">1</span><span class="p">)</span> <span class="k">then</span>
<span class="k">    call </span><span class="nb">get_command_argument</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
    <span class="k">read</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span><span class="o">*</span><span class="p">)</span> <span class="nb">max</span>
<span class="nb">  </span><span class="k">end if</span>
<span class="k">  </span><span class="nb">sum</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">SumDivisible</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span> <span class="o">+</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span> <span class="o">-</span> <span class="n">SumDivisible</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="nb">max</span><span class="p">))</span>
  <span class="k">print</span> <span class="o">*</span><span class="p">,</span> <span class="nb">sum</span>
<span class="k">end program </span><span class="n">p1</span>
</pre></div></div></div></p>
<hr/>
<div class="container">
  <h3 class="header blue-text">Downloads</h3>
    <a class="waves-effect waves-light btn-large blue" href="https://projecteuler.net/overview=001" download><i class="fas fa-file-download right"></i>Overview</a>
</div>
</main>
    <footer class="page-footer blue">
      <div class="footer-copyright">
        <div class="container">
        </div>
      </div>
    </footer>
  </body>
</html>